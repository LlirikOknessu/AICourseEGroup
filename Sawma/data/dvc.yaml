stages:
  data_preparation:
    cmd: python data_preparation.py -id data/raw -od data/prepared
    deps:
      - data_preparation.py
      - data/raw/life_expectancy_data.csv
    outs:
      - data/prepared/X_full.csv
      - data/prepared/y_full.csv
      - data/prepared/X_train.csv
      - data/prepared/y_train.csv
      - data/prepared/X_test.csv
      - data/prepared/y_test.csv
      - data/prepared/X_val.csv
      - data/prepared/y_val.csv
    params:
      - data_preparation
  linear_regression:
    cmd: python linear_regression.py
    deps:
      - linear_regression.py
      - data/prepared/X_train.csv
      - data/prepared/y_train.csv
    outs:
      - data/models/linear_regression_model.joblib
    params:
      - linear_regression
  linear_regression_validation:
    cmd: python linear_regression_validation.py
    deps:
      - linear_regression_validation.py
      - data/prepared/X_val.csv
      - data/prepared/y_val.csv
      - data/models/linear_regression_model.joblib
    params:
      - linear_regression
  linear_regression_prod_version:
    cmd: python linear_regression_full.py
    deps:
      - linear_regression_full.py
      - data/prepared/X_full.csv
      - data/prepared/y_full.csv
      - data/models/linear_regression_model.joblib
    outs:
      - data/models/linear_regression_model_prod.joblib
    params:
      - linear_regression
